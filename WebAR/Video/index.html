<!doctype HTML>
<html>
  <head>
    <title>Hello!</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://raw.githack.com/jeromeetienne/AR.js/2.2.2/aframe/build/aframe-ar.js"> </script>
    <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v4.1.2/dist/aframe-extras.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript">
      AFRAME.registerComponent("vidhandler", {
        // ...
        init: function () {
          // Set up initial state and variables.
          this.toggle = false;
          this.vid = document.querySelector("#vid");
          this.vid.play();
        },
        tick: function () {
          if (this.el.object3D.visible == true) {
            if (!this.toggle) {
              this.toggle = true;
              this.vid.play();
            }
          } else {
            this.toggle = false;
            this.vid.pause();
          }
        }
      });
    </script>
  </head>
  <body style='margin : 0px; overflow: hidden;'>
    <a-assets>
      <!-- <video id="vid" autoplay="true" loop="true" src="resources/video.webm" type='video/webm; codecs="vp8, vorbis"'></video> -->
      <!-- <video id="vid" autoplay="true" loop="true" src="resources/video.mp4" type="video/mp4"></video> -->
      <video id="vid" preload="auto" id="vid" response-type="arraybuffer" loop="true" autoplay type="video/mp4" src="https://file-examples-com.github.io/uploads/2017/04/file_example_MP4_480_1_5MG.mp4" crossorigin webkit-playsinline playsinline controls></video>
      <!-- <video id="vid" autoplay="true" loop="true" response-type="arraybuffer" src="https://file-examples-com.github.io/uploads/2017/04/file_example_MP4_480_1_5MG.mp4" type="video/mp4" webkit-playsinline playsinline></video> -->
      <!-- <video muted id="vid" response-type="arraybuffer" loop="false" crossorigin webkit-playsinline playsinline controls>
        <source src="https://cdn.glitch.com/5a71bb31-57f6-4304-9c91-437ed4041d3a%2Feby2.mp4?v=1562502183600" type="video/mp4">
      </video> -->
    </a-assets>
    
    <a-scene embedded arjs>
      <a-marker preset="hiro">
        <a-box position='1 0.5 0' material='color: yellow;' scale=".5 .5 .5"></a-box>
        <!-- <a-video  position="0 0.2 0" src="#vid" rotation="90 180 0" vidhandler></a-video> -->
        <a-video  position="0 0.2 0" width="2" height="1.125" src="#vid" rotation="-90 0 0"></a-video>
      </a-marker>
      <a-entity camera></a-entity>
    </a-scene>
  </body>
</html>